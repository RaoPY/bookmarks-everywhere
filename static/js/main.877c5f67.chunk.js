(this["webpackJsonpbookmarks-everywhere-client"]=this["webpackJsonpbookmarks-everywhere-client"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),c=n(8),s=n.n(c),a=n(5),i=(n(14),n(0));var u=function(e){var t=e.setRoute;return document.title="Bookmarks Everywhere | Sign up",Object(i.jsxs)("div",{id:"signupContainer",children:[Object(i.jsx)("h1",{children:"Sign up"}),Object(i.jsx)("input",{type:"text",placeholder:"Username",id:"usernameInputSignup"}),Object(i.jsx)("input",{type:"password",placeholder:"Password",id:"passwordInputSignup"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("usernameInputSignup").value.toLowerCase(),n=document.getElementById("passwordInputSignup").value;""===e||""===n?alert("Enter username/password..."):fetch("https://bookmarks-everywhere.cyclic.cloud/usernames").then((function(e){return e.json()})).then((function(r){r.includes(e)?alert("Username already in use. Try another one..."):(fetch("https://bookmarks-everywhere.cyclic.cloud/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n,bookmarks:[]})}),alert("Account created. Now you can proceed to login."),t("login"))})).catch((function(e){return console.log(e)}))},children:"Sign up"}),Object(i.jsx)("p",{onClick:function(){return t("login")},children:"Go to log in"})]})};n(16);var d=function(e){var t=e.setCurrentUser,n=e.setRoute;return document.title="Bookmarks Everywhere | Log in",Object(i.jsxs)("div",{id:"loginContainer",children:[Object(i.jsx)("h1",{children:"Log in"}),Object(i.jsx)("input",{type:"text",placeholder:"Username",id:"usernameInputLogin"}),Object(i.jsx)("input",{type:"password",placeholder:"Password",id:"passwordInputLogin"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("usernameInputLogin").value.toLowerCase(),r=document.getElementById("passwordInputLogin").value;""===e||""===r?alert("Enter username/password..."):fetch("https://bookmarks-everywhere.cyclic.cloud/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameLogin:e,passwordLogin:r})}).then((function(e){return e.json()})).then((function(r){null===r?alert("No account found with this username..."):!0===r?(t(e),n("myBookmarks")):alert("Incorrect password.")})).catch((function(e){return console.log(e)}))},children:"Log in"}),Object(i.jsx)("p",{onClick:function(){return n("signup")},children:"Go to sign up"})]})};n(17);var l=function(e){var t=e.setRoute;return Object(i.jsxs)("div",{id:"navbarContainer",children:[Object(i.jsx)("span",{onClick:function(){return t("myBookmarks")},children:"Home"}),Object(i.jsx)("span",{onClick:function(){return t("myAccount")},children:"My Account"}),Object(i.jsx)("span",{onClick:function(){return window.location.reload()},id:"logoutBtn",children:"Log out"})]})},m=n(2),k=n.n(m),j=n(3);n(19);var p=function(e){var t=e.bookmark,n=e.setUrlOfEditBookmark,r=e.setRoute;function o(){return o=Object(j.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("editBookmark");case 2:n(t.url),document.getElementById("bookmarkUrlEdit").value=t.url,document.getElementById("bookmarkTitleEdit").value=t.title;case 5:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}return Object(i.jsxs)("div",{className:"bookmark",children:[Object(i.jsx)("h3",{children:t.title}),Object(i.jsx)("img",{src:"https://www.google.com/s2/favicons?domain=".concat(t.url),alt:"",style:{verticalAlign:"middle"}}),Object(i.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.url}),Object(i.jsx)("hr",{className:"line",style:{margin:"15px auto",width:"90%"}}),Object(i.jsx)("button",{onClick:function(){return function(e){return o.apply(this,arguments)}(t)},children:"Edit"})]})};n(20);var b=function(e){var t=e.currentUserBookmarks,n=e.currentUser,r=e.setUrlOfEditBookmark,o=e.setRoute;return document.title="Bookmarks Everywhere | My Bookmarks",document.body.style.background="#000000",Object(i.jsxs)("div",{id:"bookmarksContainer",children:[Object(i.jsxs)("p",{children:["Hey, ",Object(i.jsx)("b",{children:n}),"! Here are your bookmarks"]}),t.map((function(e,t){return Object(i.jsx)(p,{bookmark:e,setUrlOfEditBookmark:r,setRoute:o},t)}))]})},h=n(9);n(21);var y=function(e){var t=e.currentUserBookmarks,n=e.currentUser,r=e.setRoute;function o(){return(o=Object(j.a)(k.a.mark((function e(o){var c,s,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),c=document.getElementById("bookmarkUrl").value,s=document.getElementById("bookmarkTitle").value,a={url:c,title:s},i=[].concat(Object(h.a)(t),[a]),e.next=7,fetch("https://bookmarks-everywhere.cyclic.cloud/bookmark/add/".concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookmarks:i})});case 7:r("myBookmarks");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.title="Bookmarks Everywhere | Add Bookmark",document.body.style.background="#000000",Object(i.jsxs)("form",{onSubmit:function(e){return o.apply(this,arguments)},id:"addBookmarkForm",children:[Object(i.jsx)("input",{type:"url",placeholder:"Enter URL",id:"bookmarkUrl",required:!0})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"Enter Title",id:"bookmarkTitle"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Add Bookmark"})]})};n(22);var f=function(e){var t=e.currentUserBookmarks,n=e.urlOfEditBookmark,r=e.currentUser,o=e.setRoute;function c(){return(c=Object(j.a)(k.a.mark((function e(c){var s,a,i,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s=document.getElementById("bookmarkUrlEdit").value,a=document.getElementById("bookmarkTitleEdit").value,i={url:s,title:a},u=t.map((function(e){return e.url===n?i:e})),e.next=7,fetch("https://bookmarks-everywhere.cyclic.cloud/bookmark/edit/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookmarks:u})});case 7:o("myBookmarks");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(j.a)(k.a.mark((function e(){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.filter((function(e){return e.url!==n})),e.next=3,fetch("https://bookmarks-everywhere.cyclic.cloud/bookmark/delete/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookmarks:c})});case 3:o("myBookmarks");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.title="Bookmarks Everywhere | Edit Bookmark",Object(i.jsxs)("div",{id:"editBookmarkContainer",children:[Object(i.jsx)("h1",{children:"Edit Bookmark"}),Object(i.jsxs)("form",{onSubmit:function(e){return c.apply(this,arguments)},children:[Object(i.jsx)("input",{type:"url",placeholder:"New URL",id:"bookmarkUrlEdit",required:!0})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"New Title",id:"bookmarkTitleEdit"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("button",{id:"saveEditBtn",children:"Save Changes"})]}),Object(i.jsx)("button",{onClick:function(){return s.apply(this,arguments)},id:"deleteBtn",children:"Delete Bookmark"})]})};n(23);var O=function(e){var t=e.currentUser;document.title="Bookmarks Everywhere | My Account",document.body.style.background="#000000";var n=t[0];return Object(i.jsxs)("div",{id:"myAccountContainer",children:[Object(i.jsx)("div",{id:"profilePicture",children:n.toUpperCase()}),Object(i.jsx)("h1",{children:t}),Object(i.jsx)("hr",{className:"line"}),Object(i.jsx)("h2",{children:"Account Settings"}),Object(i.jsx)("input",{type:"text",placeholder:"New username",id:"newUsername"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("newUsername").value.toLowerCase();""===e?alert("Enter new username..."):fetch("https://bookmarks-everywhere.cyclic.cloud/usernames").then((function(e){return e.json()})).then((function(n){if(n.includes(e))alert("Username already in use. Try another one...");else{var r=prompt('Type "y" to confirm: ');"y"!==r&&"Y"!==r||(fetch("https://bookmarks-everywhere.cyclic.cloud/user/update/username/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),alert("Username changed. Proceed to login with your new username."),window.location.reload())}})).catch((function(e){return console.log(e)}))},className:"changeBtn",children:"Change username"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"New password",id:"newPassword"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("newPassword").value;if(""===e)alert("Enter new password...");else{var n=prompt('Type "y" to confirm: ');"y"!==n&&"Y"!==n||(fetch("https://bookmarks-everywhere.cyclic.cloud/user/update/password/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),alert("Password changed. Proceed to login with your new password."),window.location.reload())}},className:"changeBtn",children:"Change password"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){prompt('Type your username "'.concat(t,'" to confirm: '))===t&&(fetch("https://bookmarks-everywhere.cyclic.cloud/user/delete/".concat(t),{method:"DELETE"}),alert("Account deleted."),window.location.reload())},id:"deleteAccountBtn",children:"Delete account"})]})};n(24);var x=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)([]),s=Object(a.a)(c,2),m=s[0],k=s[1],j=Object(r.useState)(""),p=Object(a.a)(j,2),h=p[0],x=p[1],w=Object(r.useState)("login"),v=Object(a.a)(w,2),g=v[0],B=v[1];return Object(r.useEffect)((function(){""!==n&&"myBookmarks"===g&&fetch("https://bookmarks-everywhere.cyclic.cloud/bookmark/get/".concat(n)).then((function(e){return e.json()})).then((function(e){return k(e)})).catch((function(e){return console.log(e)}))}),[n,g]),"login"===g?Object(i.jsx)(d,{setCurrentUser:o,setRoute:B}):"signup"===g?Object(i.jsx)(u,{setRoute:B}):"myBookmarks"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)("div",{id:"addBookmarkBtnContainer",children:Object(i.jsx)("button",{onClick:function(){return B("addBookmark")},id:"addBookmarkBtn",children:"New Bookmark"})}),Object(i.jsx)(b,{currentUserBookmarks:m,currentUser:n,setUrlOfEditBookmark:x,setRoute:B})]}):"addBookmark"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)(y,{currentUserBookmarks:m,currentUser:n,setRoute:B})]}):"editBookmark"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)(f,{currentUserBookmarks:m,currentUser:n,urlOfEditBookmark:h,setRoute:B})]}):"myAccount"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)(O,{currentUser:n})]}):void 0};s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.877c5f67.chunk.js.map