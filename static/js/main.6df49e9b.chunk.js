(this["webpackJsonpbookmarks-everywhere-client"]=this["webpackJsonpbookmarks-everywhere-client"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,r){},,function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),c=r(8),a=r.n(c),s=r(5),i=(r(14),r(0));var u=function(e){var t=e.setRoute;return document.title="Bookmarks Everywhere | Sign up",Object(i.jsxs)("div",{id:"signupContainer",children:[Object(i.jsx)("h1",{children:"Sign up"}),Object(i.jsx)("input",{type:"text",placeholder:"Username",id:"usernameInputSignup"}),Object(i.jsx)("input",{type:"password",placeholder:"Password",id:"passwordInputSignup"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("usernameInputSignup").value.toLowerCase(),r=document.getElementById("passwordInputSignup").value;""===e||""===r?alert("Enter username/password..."):fetch("https://bookmarks-everywhere.herokuapp.com/usernames").then((function(e){return e.json()})).then((function(n){n.includes(e)?alert("Username already in use. Try another one..."):(fetch("https://bookmarks-everywhere.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r,bookmarks:[]})}),alert("Account created. Now you can proceed to login."),t("login"))})).catch((function(e){return console.log(e)}))},children:"Sign up"}),Object(i.jsx)("p",{onClick:function(){return t("login")},children:"Go to log in"})]})};r(16);var d=function(e){var t=e.setCurrentUser,r=e.setRoute;return document.title="Bookmarks Everywhere | Log in",Object(i.jsxs)("div",{id:"loginContainer",children:[Object(i.jsx)("h1",{children:"Log in"}),Object(i.jsx)("input",{type:"text",placeholder:"Username",id:"usernameInputLogin"}),Object(i.jsx)("input",{type:"password",placeholder:"Password",id:"passwordInputLogin"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("usernameInputLogin").value.toLowerCase(),n=document.getElementById("passwordInputLogin").value;""===e||""===n?alert("Enter username/password..."):fetch("https://bookmarks-everywhere.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameLogin:e,passwordLogin:n})}).then((function(e){return e.json()})).then((function(n){null===n?alert("No account found with this username..."):!0===n?(t(e),r("myBookmarks")):alert("Incorrect password.")})).catch((function(e){return console.log(e)}))},children:"Log in"}),Object(i.jsx)("p",{onClick:function(){return r("signup")},children:"Go to sign up"})]})};r(17);var l=function(e){var t=e.setRoute;return Object(i.jsxs)("div",{id:"navbarContainer",children:[Object(i.jsx)("span",{onClick:function(){return t("myBookmarks")},children:"Home"}),Object(i.jsx)("span",{onClick:function(){return t("myAccount")},children:"My Account"}),Object(i.jsx)("span",{onClick:function(){return window.location.reload()},id:"logoutBtn",children:"Log out"})]})},m=r(2),k=r.n(m),p=r(3);r(19);var h=function(e){var t=e.bookmark,r=e.setUrlOfEditBookmark,n=e.setRoute;function o(){return o=Object(p.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("editBookmark");case 2:r(t.url),document.getElementById("bookmarkUrlEdit").value=t.url,document.getElementById("bookmarkTitleEdit").value=t.title;case 5:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}return Object(i.jsxs)("div",{className:"bookmark",children:[Object(i.jsx)("h3",{children:t.title}),Object(i.jsx)("img",{src:"https://www.google.com/s2/favicons?domain=".concat(t.url),alt:"",style:{verticalAlign:"middle"}}),Object(i.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.url}),Object(i.jsx)("hr",{className:"line",style:{margin:"15px auto",width:"90%"}}),Object(i.jsx)("button",{onClick:function(){return function(e){return o.apply(this,arguments)}(t)},children:"Edit"})]})};r(20);var j=function(e){var t=e.currentUserBookmarks,r=e.currentUser,n=e.setUrlOfEditBookmark,o=e.setRoute;return document.title="Bookmarks Everywhere | My Bookmarks",document.body.style.background="#000000",Object(i.jsxs)("div",{id:"bookmarksContainer",children:[Object(i.jsxs)("p",{children:["Hey, ",Object(i.jsx)("b",{children:r}),"! Here are your bookmarks"]}),t.map((function(e,t){return Object(i.jsx)(h,{bookmark:e,setUrlOfEditBookmark:n,setRoute:o},t)}))]})},b=r(9);r(21);var y=function(e){var t=e.currentUserBookmarks,r=e.currentUser,n=e.setRoute;function o(){return(o=Object(p.a)(k.a.mark((function e(o){var c,a,s,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),c=document.getElementById("bookmarkUrl").value,a=document.getElementById("bookmarkTitle").value,s={url:c,title:a},i=[].concat(Object(b.a)(t),[s]),e.next=7,fetch("https://bookmarks-everywhere.herokuapp.com/bookmark/add/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookmarks:i})});case 7:n("myBookmarks");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.title="Bookmarks Everywhere | Add Bookmark",document.body.style.background="#000000",Object(i.jsxs)("form",{onSubmit:function(e){return o.apply(this,arguments)},id:"addBookmarkForm",children:[Object(i.jsx)("input",{type:"url",placeholder:"Enter URL",id:"bookmarkUrl",required:!0})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"Enter Title",id:"bookmarkTitle"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Add Bookmark"})]})};r(22);var f=function(e){var t=e.currentUserBookmarks,r=e.urlOfEditBookmark,n=e.currentUser,o=e.setRoute;function c(){return(c=Object(p.a)(k.a.mark((function e(c){var a,s,i,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),a=document.getElementById("bookmarkUrlEdit").value,s=document.getElementById("bookmarkTitleEdit").value,i={url:a,title:s},u=t.map((function(e){return e.url===r?i:e})),e.next=7,fetch("https://bookmarks-everywhere.herokuapp.com/bookmark/edit/".concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookmarks:u})});case 7:o("myBookmarks");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(p.a)(k.a.mark((function e(){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.filter((function(e){return e.url!==r})),e.next=3,fetch("https://bookmarks-everywhere.herokuapp.com/bookmark/delete/".concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookmarks:c})});case 3:o("myBookmarks");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.title="Bookmarks Everywhere | Edit Bookmark",Object(i.jsxs)("div",{id:"editBookmarkContainer",children:[Object(i.jsx)("h1",{children:"Edit Bookmark"}),Object(i.jsxs)("form",{onSubmit:function(e){return c.apply(this,arguments)},children:[Object(i.jsx)("input",{type:"url",placeholder:"New URL",id:"bookmarkUrlEdit",required:!0})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"New Title",id:"bookmarkTitleEdit"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("button",{id:"saveEditBtn",children:"Save Changes"})]}),Object(i.jsx)("button",{onClick:function(){return a.apply(this,arguments)},id:"deleteBtn",children:"Delete Bookmark"})]})};r(23);var O=function(e){var t=e.currentUser;document.title="Bookmarks Everywhere | My Account",document.body.style.background="#000000";var r=t[0];return Object(i.jsxs)("div",{id:"myAccountContainer",children:[Object(i.jsx)("div",{id:"profilePicture",children:r.toUpperCase()}),Object(i.jsx)("h1",{children:t}),Object(i.jsx)("hr",{className:"line"}),Object(i.jsx)("h2",{children:"Account Settings"}),Object(i.jsx)("input",{type:"text",placeholder:"New username",id:"newUsername"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("newUsername").value.toLowerCase();""===e?alert("Enter new username..."):fetch("https://bookmarks-everywhere.herokuapp.com/usernames").then((function(e){return e.json()})).then((function(r){if(r.includes(e))alert("Username already in use. Try another one...");else{var n=prompt('Type "y" to confirm: ');"y"!==n&&"Y"!==n||(fetch("https://bookmarks-everywhere.herokuapp.com/user/update/username/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),alert("Username changed. Proceed to login with your new username."),window.location.reload())}})).catch((function(e){return console.log(e)}))},className:"changeBtn",children:"Change username"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"New password",id:"newPassword"}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("newPassword").value;if(""===e)alert("Enter new password...");else{var r=prompt('Type "y" to confirm: ');"y"!==r&&"Y"!==r||(fetch("https://bookmarks-everywhere.herokuapp.com/user/update/password/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),alert("Password changed. Proceed to login with your new password."),window.location.reload())}},className:"changeBtn",children:"Change password"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){prompt('Type your username "'.concat(t,'" to confirm: '))===t&&(fetch("https://bookmarks-everywhere.herokuapp.com/user/delete/".concat(t),{method:"DELETE"}),alert("Account deleted."),window.location.reload())},id:"deleteAccountBtn",children:"Delete account"})]})};r(24);var x=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=t[0],o=t[1],c=Object(n.useState)([]),a=Object(s.a)(c,2),m=a[0],k=a[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),b=h[0],x=h[1],w=Object(n.useState)("login"),v=Object(s.a)(w,2),g=v[0],B=v[1];return Object(n.useEffect)((function(){""!==r&&"myBookmarks"===g&&fetch("https://bookmarks-everywhere.herokuapp.com/bookmark/get/".concat(r)).then((function(e){return e.json()})).then((function(e){return k(e)})).catch((function(e){return console.log(e)}))}),[r,g]),"login"===g?Object(i.jsx)(d,{setCurrentUser:o,setRoute:B}):"signup"===g?Object(i.jsx)(u,{setRoute:B}):"myBookmarks"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)("div",{id:"addBookmarkBtnContainer",children:Object(i.jsx)("button",{onClick:function(){return B("addBookmark")},id:"addBookmarkBtn",children:"New Bookmark"})}),Object(i.jsx)(j,{currentUserBookmarks:m,currentUser:r,setUrlOfEditBookmark:x,setRoute:B})]}):"addBookmark"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)(y,{currentUserBookmarks:m,currentUser:r,setRoute:B})]}):"editBookmark"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)(f,{currentUserBookmarks:m,currentUser:r,urlOfEditBookmark:b,setRoute:B})]}):"myAccount"===g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{setRoute:B}),Object(i.jsx)(O,{currentUser:r})]}):void 0};a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.6df49e9b.chunk.js.map